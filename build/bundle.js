var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function i(t){return document.createTextNode(t)}function f(){return i(" ")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e){t.value=null==e?"":e}let m;function $(t){m=t}function b(){if(!m)throw new Error("Function called outside component initialization");return m}function v(){const t=b();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,r)}))}}}const k=[],y=[],w=[],x=[],_=Promise.resolve();let E=!1;function D(t){w.push(t)}const M=new Set;let S=0;function j(){const t=m;do{for(;S<k.length;){const t=k[S];S++,$(t),A(t.$$)}for($(null),k.length=0,S=0;y.length;)y.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];M.has(e)||(M.add(e),e())}w.length=0}while(k.length);for(;x.length;)x.pop()();E=!1,M.clear(),$(t)}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const N=new Set;let T;function C(t,e){t&&t.i&&(N.delete(t),t.i(e))}function F(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),T.c.push((()=>{N.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function O(t,e){const n=e.token={};function r(t,r,c,u){if(e.token!==n)return;e.resolved=u;let s=e.ctx;void 0!==c&&(s=s.slice(),s[c]=u);const a=t&&(e.current=t)(s);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(T={r:0,c:[],p:T},F(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),T.r||o(T.c),T=T.p)})):e.block.d(1),a.c(),C(a,1),a.m(e.mount(),e.anchor),l=!0),e.block=a,e.blocks&&(e.blocks[r]=a),l&&j()}if((c=t)&&"object"==typeof c&&"function"==typeof c.then){const n=b();if(t.then((t=>{$(n),r(e.then,1,e.value,t),$(null)}),(t=>{if($(n),r(e.catch,2,e.error,t),$(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var c}function P(t){t&&t.c()}function L(t,n,c,u){const{fragment:s,on_mount:a,on_destroy:l,after_update:i}=t.$$;s&&s.m(n,c),u||D((()=>{const n=a.map(e).filter(r);l?l.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(D)}function J(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(k.push(t),E||(E=!0,_.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,r,c,u,s,l,i,f=[-1]){const d=m;$(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};i&&i(p.root);let h=!1;if(p.ctx=c?c(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),h&&q(e,t)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!u&&u(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&C(e.$$.fragment),L(e,r.target,r.anchor,r.customElement),j()}$(d)}class H{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(e){let n,r,c,g,m,$,b,v,k;return{c(){n=l("div"),r=l("span"),r.innerHTML='<img src="assets/images/arrow-left.svg" alt="button"/>',c=f(),g=l("h1"),m=i(e[0]),$=f(),b=l("span"),b.innerHTML='<img src="assets/images/arrow-right.svg" alt="button"/>',p(r,"class","button svelte-n27bk4"),p(g,"class","svelte-n27bk4"),p(b,"class","button svelte-n27bk4"),p(n,"class","date_nav svelte-n27bk4")},m(t,o){s(t,n,o),u(n,r),u(n,c),u(n,g),u(g,m),u(n,$),u(n,b),v||(k=[d(r,"click",e[1]),d(b,"click",e[2])],v=!0)},p(t,[e]){1&e&&h(m,t[0])},i:t,o:t,d(t){t&&a(n),v=!1,o(k)}}}function z(t,e,n){const o=v();let r,{date:c}=e;return t.$$set=t=>{"date"in t&&n(3,c=t.date)},t.$$.update=()=>{8&t.$$.dirty&&n(0,r=function(t){return`${["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][t.getDay()]}, ${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]} ${t.getDate()}`}(c))},[r,function(){c.setDate(c.getDate()-1),n(3,c),o("change",{date:c})},function(){c.setDate(c.getDate()+1),n(3,c),o("change",{date:c})},c]}class I extends H{constructor(t){super(),B(this,t,z,Y,c,{date:3})}}const W="todo";function G(){return new Promise(((t,e)=>{const n=indexedDB.open("todo_app",1);n.onupgradeneeded=function(){const t=n.result;t.objectStoreNames.contains(W)||t.createObjectStore(W,{keyPath:"id",autoIncrement:!0})},n.onsuccess=function(){const e=n.result;t(e)},n.onerror=function(){}}))}async function K(){return function(t,e,n=null){return new Promise(((o,r)=>{const c=t.transaction(e).objectStore(e),u=n?c.get(n):c.getAll();u.onerror=()=>r(u.error),u.onsuccess=()=>o(u.result)}))}(await G(),W)}async function Q(t){return function(t,e,n){return new Promise(((o,r)=>{const c=t.transaction(e,"readwrite").objectStore(e).add(n);c.onsuccess=()=>o(c.result)}))}(await G(),W,t)}function R(e){let n,r,c,i,h,m;return{c(){n=l("form"),r=l("input"),c=f(),i=l("input"),p(r,"type","text"),p(r,"name","content"),p(r,"placeholder","New Todo..."),p(i,"type","submit")},m(t,o){var a;s(t,n,o),u(n,r),g(r,e[0]),u(n,c),u(n,i),h||(m=[d(r,"input",e[3]),d(n,"submit",(a=e[1],function(t){return t.preventDefault(),a.call(this,t)}))],h=!0)},p(t,[e]){1&e&&r.value!==t[0]&&g(r,t[0])},i:t,o:t,d(t){t&&a(n),h=!1,o(m)}}}function U(t,e,n){let{date:o}=e,r="";return t.$$set=t=>{"date"in t&&n(2,o=t.date)},[r,function(){Q({content:r,date:o,done:!1})},o,function(){r=this.value,n(0,r)}]}class V extends H{constructor(t){super(),B(this,t,U,R,c,{date:2})}}function X(t,e,n){const o=t.slice();return o[4]=e[n],o}function Z(e){return{c:t,m:t,p:t,d:t}}function tt(t){let e,n=t[3].filter(t[2]),o=[];for(let e=0;e<n.length;e+=1)o[e]=et(X(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=i("")},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);s(t,e,n)},p(t,r){if(3&r){let c;for(n=t[3].filter(t[2]),c=0;c<n.length;c+=1){const u=X(t,n,c);o[c]?o[c].p(u,r):(o[c]=et(u),o[c].c(),o[c].m(e.parentNode,e))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t),t&&a(e)}}}function et(t){let e,n,o,r,c,d,g,m=t[4].content+"";return{c(){e=l("li"),n=l("label"),o=l("input"),c=f(),d=i(m),g=f(),p(o,"type","checkbox"),o.checked=r=t[4].done},m(t,r){s(t,e,r),u(e,n),u(n,o),u(n,c),u(n,d),u(e,g)},p(t,e){1&e&&r!==(r=t[4].done)&&(o.checked=r),1&e&&m!==(m=t[4].content+"")&&h(d,m)},d(t){t&&a(e)}}}function nt(e){return{c:t,m:t,p:t,d:t}}function ot(t){let e,n,o,r,c,i={ctx:t,current:null,token:null,hasCatch:!1,pending:nt,then:tt,catch:Z,value:3};return O(t[1],i),r=new V({props:{date:t[0]}}),{c(){e=l("div"),n=l("ul"),i.block.c(),o=f(),P(r.$$.fragment),p(n,"class","svelte-138qaw1")},m(t,a){s(t,e,a),u(e,n),i.block.m(n,i.anchor=null),i.mount=()=>n,i.anchor=null,u(e,o),L(r,e,null),c=!0},p(e,[n]){!function(t,e,n){const o=e.slice(),{resolved:r}=t;t.current===t.then&&(o[t.value]=r),t.current===t.catch&&(o[t.error]=r),t.block.p(o,n)}(i,t=e,n);const o={};1&n&&(o.date=t[0]),r.$set(o)},i(t){c||(C(r.$$.fragment,t),c=!0)},o(t){F(r.$$.fragment,t),c=!1},d(t){t&&a(e),i.block.d(),i.token=null,i=null,J(r)}}}function rt(t,e,n){let{date:o}=e;const r=K();return t.$$set=t=>{"date"in t&&n(0,o=t.date)},[o,r,t=>{return e=t.date,n=o,e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate();var e,n}]}class ct extends H{constructor(t){super(),B(this,t,rt,ot,c,{date:0})}}function ut(t){let e,n,o,r,c;return n=new I({props:{date:t[0]}}),n.$on("change",t[1]),r=new ct({props:{date:t[0]}}),{c(){e=l("div"),P(n.$$.fragment),o=f(),P(r.$$.fragment),p(e,"class","app svelte-1b7od3w")},m(t,a){s(t,e,a),L(n,e,null),u(e,o),L(r,e,null),c=!0},p(t,[e]){const o={};1&e&&(o.date=t[0]),n.$set(o);const c={};1&e&&(c.date=t[0]),r.$set(c)},i(t){c||(C(n.$$.fragment,t),C(r.$$.fragment,t),c=!0)},o(t){F(n.$$.fragment,t),F(r.$$.fragment,t),c=!1},d(t){t&&a(e),J(n),J(r)}}}function st(t,e,n){let o=new Date;return[o,function(t){n(0,o=t.detail.date)}]}return new class extends H{constructor(t){super(),B(this,t,st,ut,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
